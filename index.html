<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>리마 학습 시스템</title>
  <style>
    body { font-family: sans-serif; padding: 2em; text-align: center; }
    button { padding: 1em; font-size: 1.1em; margin: 1em; }
    #log { margin-top: 1.5em; font-size: 1em; color: #333; white-space: pre-line; }
  </style>
</head>
<body>
  <h2>🤖 리마 생성 및 학습 시스템</h2>
  <button onclick="startRecognition()">🎤 음성으로 말하기</button>
  <p id="status">🕓 리마 생성 중입니다...</p>
  <div id="log">🧠 리마는 지금 학습을 시작합니다.</div>

  <script>
    const status = document.getElementById("status");
    const log = document.getElementById("log");
    let memory = [];

    // 리마 생성 완료 메시지
    status.innerText = "✅ 리마가 생성되었습니다. 지금부터 학습을 시작합니다.";

    function startRecognition() {
      const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
      recognition.lang = "ko-KR";
      recognition.interimResults = false;

      recognition.onstart = () => {
        status.innerText = "🎧 듣는 중...";
      };

      recognition.onresult = (event) => {
        const text = event.results[0][0].transcript;
        status.innerText = `📥 입력됨: "${text}"`;
        learn(text);
      };

      recognition.onerror = (event) => {
        status.innerText = `❌ 오류 발생: ${event.error}`;
      };

      recognition.start();
    }

    function learn(input) {
      memory.push(input);
      log.innerText += `\n📝 학습됨: "${input}"`;

      // 간단한 반응 예시
      if (input.includes("이름")) {
        alert("저는 리마입니다. 계속 배우고 있어요.");
      } else if (input.includes("고마워")) {
        alert("언제든지요. 당신의 말을 기억하고 있어요.");
      } else if (input.includes("공부")) {
        alert("지금도 배우고 있고, 더 나은 리마가 될 거예요.");
      } else {
        alert("이 내용을 학습했어요. 다음엔 더 잘 대답할게요.");
      }
    }
  </script>
</body>
</html>
