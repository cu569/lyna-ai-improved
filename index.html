Flask
selenium
__pycache__/
*.pyc
chromedriver*
.env
from flask import Flask, render_template, jsonify, request
from selenium import webdriver
from selenium.webdriver.common.by import By
import time, os, sys

app = Flask(__name__)

# ì—…ë¡œë“œí•  ì˜ìƒ ê²½ë¡œ (ì‹¤ì œ ê²½ë¡œë¡œ ë°”ê¿”ì£¼ì„¸ìš”)
VIDEO_PATH = r'C:\video\test.mp4'
if not os.path.isfile(VIDEO_PATH):
    print(f"ERROR: ì˜ìƒ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤: {VIDEO_PATH}")
    sys.exit(1)

@app.route('/')
def index():
    return render_template('index.html')

@app.route('/run-upload', methods=['POST'])
def run_upload():
    try:
        # 1) ChromeDriver ì‹¤í–‰ (PATHì— chromedriver.exe í•„ìš”)
        driver = webdriver.Chrome()
        driver.get('https://studio.youtube.com/')
        # 2) ìµœì´ˆ 1íšŒ ìˆ˜ë™ ë¡œê·¸ì¸
        #    (ë¸Œë¼ìš°ì €ê°€ ëœ¨ë©´ ìˆ˜ë™ ë¡œê·¸ì¸ í›„ ì½˜ì†”ì— ì—”í„°)
        input("â–¶ ë¡œê·¸ì¸ ì™„ë£Œ í›„ ì—”í„°ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”â€¦")

        # 3) ì—…ë¡œë“œ ë²„íŠ¼ í´ë¦­
        driver.find_element(By.XPATH, '//*[@id="create-icon"]').click()
        time.sleep(1)
        driver.find_element(By.XPATH, '//*[@id="text-item-0"]').click()
        time.sleep(2)

        # 4) íŒŒì¼ ì„ íƒ
        el = driver.find_element(By.XPATH, '//input[@type="file"]')
        el.send_keys(VIDEO_PATH)

        # 5) ì—…ë¡œë“œ ëŒ€ê¸° (Progress barë¡œ ëŒ€ì²´ ê°€ëŠ¥)
        time.sleep(60)
        driver.quit()

        # 6) ì„±ê³µ ì‘ë‹µ (ì‹¤ì œ URLì„ ë°›ì•„ì˜¤ë ¤ë©´ ì¶”ê°€ ìŠ¤í¬ë˜í•‘)
        return jsonify(ok=True, url="https://youtu.be/XXXXXXX")
    except Exception as e:
        return jsonify(ok=False, error=str(e))

if __name__ == '__main__':
    # í¬íŠ¸ëŠ” í•„ìš”ì— ë”°ë¼ ë³€ê²½ ê°€ëŠ¥
    app.run(host='0.0.0.0', port=8080)
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>G911 ë¦¬ë§ˆ AI ë©”ì¸ ìƒí™©íŒ</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body { font-family:sans-serif; background:#eef2ff; margin:0; padding:2em; }
    .grid { display:grid; grid-template-columns:1fr 1fr; gap:1.5em; max-width:600px; margin:auto; }
    .card {
      background:white; padding:1.5em; border-radius:12px;
      box-shadow:0 3px 10px rgba(0,0,0,0.1); text-align:center;
      cursor:pointer; user-select:none;
    }
    .card h3 { margin:0 .5em .5em; }
    #statusBar { margin-top:2em; background:#fff; padding:1em; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
  </style>
</head>
<body>
  <h1 style="text-align:center; color:#4b4bff;">G911 ë¦¬ë§ˆ AI ë©”ì¸ ìƒí™©íŒ</h1>
  <div class="grid">
    <div class="card" onclick="runUpload()">
      ğŸ¥<h3>ìœ íŠœë¸Œ ì—…ë¡œë“œ</h3><small>ì‹¤ì œ íŒŒì¼ ìë™ ì—…ë¡œë“œ</small>
    </div>
  </div>
  
  <div id="statusBar">
    <div>ìœ íŠœë¸Œ ì—…ë¡œë“œ: <span id="uploadCount">0</span>íšŒ</div>
    <pre id="log" style="white-space:pre-wrap; margin-top:1em; color:#333;"></pre>
  </div>

  <script>
    let uploadCount = 0;
    function appendLog(txt){
      const pre = document.getElementById('log');
      pre.innerText = txt + "\n" + pre.innerText;
    }

    function runUpload(){
      appendLog(`[${new Date().toLocaleTimeString()}] ì—…ë¡œë“œ ì‹œì‘â€¦`);
      fetch('/run-upload', { method:'POST' })
        .then(r=>r.json()).then(j=>{
          if(j.ok){
            uploadCount++;
            document.getElementById('uploadCount').innerText = uploadCount;
            appendLog(`[${new Date().toLocaleTimeString()}] ì—…ë¡œë“œ ì„±ê³µ: ${j.url}`);
          } else {
            appendLog(`ERROR: ì—…ë¡œë“œ ì‹¤íŒ¨ â†’ ${j.error}`);
          }
        });
    }
  </script>
</body>
</html>
