<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LYNA AI - ì§„ì§œ ìŒì„± ì¸ì‹ ì‘ë™</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea, #764ba2);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #667eea;
        }

        .header h1 {
            color: #333;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .voice-status {
            background: #f0f0f0;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
            border: 3px solid #ddd;
        }

        .voice-status.listening {
            background: #e8f5e8;
            border-color: #4caf50;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .voice-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .voice-btn {
            background: #4caf50;
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 150px;
        }

        .voice-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
        }

        .voice-btn:active {
            transform: translateY(0);
        }

        .voice-btn.listening {
            background: #ff5722;
            animation: pulse 1s infinite;
        }

        .permission-btn {
            background: #2196f3;
        }

        .permission-btn:hover {
            background: #1976d2;
        }

        .functions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .function-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 20px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .function-btn:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }

        .youtube { background: #ff0000; }
        .youtube:hover { background: #cc0000; }

        .file { background: #e91e63; }
        .file:hover { background: #c2185b; }

        .device { background: #ff9800; }
        .device:hover { background: #f57c00; }

        .results {
            background: #f5f5f5;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            min-height: 150px;
            max-height: 250px;
            overflow-y: auto;
        }

        .result-item {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid #4caf50;
        }

        .voice-result {
            border-left-color: #ff5722;
        }

        .chat-container {
            background: #f9f9f9;
            border-radius: 15px;
            padding: 20px;
        }

        .chat-messages {
            height: 300px;
            overflow-y: auto;
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border: 2px solid #ddd;
        }

        .message {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 10px;
            max-width: 80%;
        }

        .user-message {
            background: #667eea;
            color: white;
            margin-left: auto;
        }

        .ai-message {
            background: #e3f2fd;
            color: #333;
            margin-right: auto;
        }

        .voice-message {
            background: #ff5722;
            color: white;
            margin-left: auto;
        }

        .system-message {
            background: #4caf50;
            color: white;
            margin: 0 auto;
            text-align: center;
            max-width: 90%;
        }

        .input-area {
            display: flex;
            gap: 10px;
            align-items: stretch;
        }

        #messageInput {
            flex: 1;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            outline: none;
        }

        #messageInput:focus {
            border-color: #667eea;
        }

        .send-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            font-size: 1rem;
        }

        .send-btn:hover {
            background: #5a6fd8;
        }

        .floating-btns {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .floating-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }

        .floating-btn:hover {
            transform: scale(1.1);
        }

        .floating-voice {
            background: #4caf50;
        }

        .floating-voice.listening {
            background: #ff5722;
            animation: pulse 1s infinite;
        }

        .floating-phone {
            background: #2196f3;
        }

        .error-message {
            background: #ffebee;
            color: #c62828;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 4px solid #f44336;
        }

        .success-message {
            background: #e8f5e8;
            color: #2e7d32;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 4px solid #4caf50;
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }
            
            .functions {
                grid-template-columns: 1fr;
            }
            
            .voice-controls {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <!-- í”Œë¡œíŒ… ë²„íŠ¼ë“¤ -->
    <div class="floating-btns">
        <button class="floating-btn floating-voice" id="floatingVoice" onclick="toggleVoiceRecognition()" title="ìŒì„± ì¸ì‹">ğŸ¤</button>
        <button class="floating-btn floating-phone" onclick="makeCall()" title="ì „í™” ê±¸ê¸°">ğŸ“</button>
    </div>

    <div class="container">
        <div class="header">
            <h1>ğŸ¤– LYNA AI</h1>
            <p>ì§„ì§œ ìŒì„± ì¸ì‹ ì‘ë™ ë²„ì „</p>
        </div>

        <!-- ìŒì„± ìƒíƒœ í‘œì‹œ -->
        <div class="voice-status" id="voiceStatus">
            <h3>ğŸ¤ ìŒì„± ì¸ì‹ ìƒíƒœ</h3>
            <p id="voiceStatusText">ì¤€ë¹„ë¨ - ë§ˆì´í¬ ê¶Œí•œì„ í—ˆìš©í•´ì£¼ì„¸ìš”</p>
        </div>

        <!-- ìŒì„± ì»¨íŠ¸ë¡¤ -->
        <div class="voice-controls">
            <button class="voice-btn permission-btn" onclick="requestMicPermission()">
                ğŸ¤ ë§ˆì´í¬ ê¶Œí•œ ìš”ì²­
            </button>
            <button class="voice-btn" id="voiceBtn" onclick="toggleVoiceRecognition()">
                ğŸ¤ ìŒì„± ì¸ì‹ ì‹œì‘
            </button>
            <button class="voice-btn" onclick="testVoiceRecognition()">
                ğŸ”Š ìŒì„± í…ŒìŠ¤íŠ¸
            </button>
        </div>

        <div class="functions">
            <button class="function-btn youtube" onclick="createYouTube()">
                ğŸ“º ìœ íŠœë¸Œ ìƒì„±
            </button>
            <button class="function-btn file" onclick="createFile()">
                ğŸ“ íŒŒì¼ ì œì‘
            </button>
            <button class="function-btn device" onclick="connectDevices()">
                ğŸ“± ì¥ì¹˜ ì—°ê²°
            </button>
        </div>

        <div class="results" id="resultsArea">
            <div class="result-item">
                ğŸ‰ LYNA AIê°€ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤! ë§ˆì´í¬ ê¶Œí•œì„ í—ˆìš©í•˜ê³  ìŒì„± ì¸ì‹ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”.
            </div>
        </div>

        <div class="chat-container">
            <h3>ğŸ’¬ LYNA AI ì±„íŒ…</h3>
            <div class="chat-messages" id="chatMessages">
                <div class="message system-message">
                    ì•ˆë…•í•˜ì„¸ìš”! LYNA AIì…ë‹ˆë‹¤. ì§„ì§œ ìŒì„± ì¸ì‹ ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ë³´ì„¸ìš”!
                </div>
            </div>
            <div class="input-area">
                <input 
                    type="text" 
                    id="messageInput" 
                    placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." 
                    onkeypress="if(event.key==='Enter') sendMessage()"
                    autocomplete="off"
                >
                <button class="send-btn" onclick="sendMessage()">ì „ì†¡</button>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let recognition = null;
        let isVoiceActive = false;
        let speechSynthesis = window.speechSynthesis;
        let isListening = false;

        // ë¸Œë¼ìš°ì € ìŒì„± ì¸ì‹ ì§€ì› í™•ì¸
        function checkVoiceSupport() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                showResult('âœ… ì´ ë¸Œë¼ìš°ì €ëŠ” ìŒì„± ì¸ì‹ì„ ì§€ì›í•©ë‹ˆë‹¤!', 'success');
                return true;
            } else {
                showResult('âŒ ì´ ë¸Œë¼ìš°ì €ëŠ” ìŒì„± ì¸ì‹ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. Chrome ë˜ëŠ” Edgeë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”.', 'error');
                return false;
            }
        }

        // ë§ˆì´í¬ ê¶Œí•œ ìš”ì²­
        async function requestMicPermission() {
            try {
                showResult('ğŸ¤ ë§ˆì´í¬ ê¶Œí•œì„ ìš”ì²­í•˜ê³  ìˆìŠµë‹ˆë‹¤...', 'info');
                
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                
                // ê¶Œí•œ íšë“ ì„±ê³µ
                showResult('âœ… ë§ˆì´í¬ ê¶Œí•œì´ í—ˆìš©ë˜ì—ˆìŠµë‹ˆë‹¤! ì´ì œ ìŒì„± ì¸ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', 'success');
                updateVoiceStatus('ë§ˆì´í¬ ê¶Œí•œ í—ˆìš©ë¨ - ìŒì„± ì¸ì‹ ì¤€ë¹„ ì™„ë£Œ');
                
                // ìŠ¤íŠ¸ë¦¼ ì •ë¦¬
                stream.getTracks().forEach(track => track.stop());
                
                // ìŒì„± ì¸ì‹ ì´ˆê¸°í™”
                initializeSpeechRecognition();
                
            } catch (error) {
                console.error('ë§ˆì´í¬ ê¶Œí•œ ì˜¤ë¥˜:', error);
                showResult('âŒ ë§ˆì´í¬ ê¶Œí•œì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì € ì„¤ì •ì—ì„œ ë§ˆì´í¬ ê¶Œí•œì„ í—ˆìš©í•´ì£¼ì„¸ìš”.', 'error');
                updateVoiceStatus('ë§ˆì´í¬ ê¶Œí•œ í•„ìš” - ë¸Œë¼ìš°ì € ì„¤ì •ì—ì„œ í—ˆìš©í•´ì£¼ì„¸ìš”');
            }
        }

        // ìŒì„± ì¸ì‹ ì´ˆê¸°í™”
        function initializeSpeechRecognition() {
            if (!checkVoiceSupport()) return;

            try {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                
                // ìŒì„± ì¸ì‹ ì„¤ì •
                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.lang = 'ko-KR';
                recognition.maxAlternatives = 1;
                
                // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
                recognition.onstart = function() {
                    isListening = true;
                    updateVoiceStatus('ğŸ¤ ìŒì„± ì¸ì‹ ì¤‘... ë§ì”€í•˜ì„¸ìš”!');
                    document.getElementById('voiceBtn').textContent = 'ğŸ”´ ì¸ì‹ ì¤‘ì§€';
                    document.getElementById('voiceBtn').classList.add('listening');
                    document.getElementById('floatingVoice').classList.add('listening');
                    document.getElementById('voiceStatus').classList.add('listening');
                    
                    showResult('ğŸ¤ ìŒì„± ì¸ì‹ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. ë§ì”€í•´ì£¼ì„¸ìš”!', 'voice');
                };
                
                recognition.onresult = function(event) {
                    const result = event.results[0][0];
                    const transcript = result.transcript;
                    const confidence = result.confidence;
                    
                    showResult(`ğŸ¤ ìŒì„± ì¸ì‹ ê²°ê³¼: "${transcript}" (ì‹ ë¢°ë„: ${Math.round(confidence * 100)}%)`, 'voice');
                    addMessage(`ğŸ¤ ìŒì„±: ${transcript}`, 'voice');
                    
                    // ìŒì„± ëª…ë ¹ ì²˜ë¦¬
                    processVoiceCommand(transcript);
                };
                
                recognition.onerror = function(event) {
                    console.error('ìŒì„± ì¸ì‹ ì˜¤ë¥˜:', event.error);
                    let errorMessage = 'ìŒì„± ì¸ì‹ ì˜¤ë¥˜: ';
                    
                    switch(event.error) {
                        case 'no-speech':
                            errorMessage += 'ìŒì„±ì´ ê°ì§€ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
                            break;
                        case 'audio-capture':
                            errorMessage += 'ë§ˆì´í¬ì— ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë§ˆì´í¬ê°€ ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.';
                            break;
                        case 'not-allowed':
                            errorMessage += 'ë§ˆì´í¬ ê¶Œí•œì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì € ì„¤ì •ì—ì„œ ê¶Œí•œì„ í—ˆìš©í•´ì£¼ì„¸ìš”.';
                            break;
                        case 'network':
                            errorMessage += 'ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                            break;
                        default:
                            errorMessage += event.error;
                    }
                    
                    showResult(errorMessage, 'error');
                    stopVoiceRecognition();
                };
                
                recognition.onend = function() {
                    stopVoiceRecognition();
                };
                
                showResult('âœ… ìŒì„± ì¸ì‹ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                updateVoiceStatus('ìŒì„± ì¸ì‹ ì¤€ë¹„ ì™„ë£Œ - ì‹œì‘ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”');
                
            } catch (error) {
                console.error('ìŒì„± ì¸ì‹ ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
                showResult('âŒ ìŒì„± ì¸ì‹ ì´ˆê¸°í™”ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
            }
        }

        // ìŒì„± ì¸ì‹ í† ê¸€
        function toggleVoiceRecognition() {
            if (!recognition) {
                showResult('âš ï¸ ë¨¼ì € ë§ˆì´í¬ ê¶Œí•œì„ í—ˆìš©í•´ì£¼ì„¸ìš”.', 'error');
                return;
            }

            if (isListening) {
                recognition.stop();
            } else {
                try {
                    recognition.start();
                } catch (error) {
                    console.error('ìŒì„± ì¸ì‹ ì‹œì‘ ì˜¤ë¥˜:', error);
                    showResult('âŒ ìŒì„± ì¸ì‹ ì‹œì‘ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
                }
            }
        }

        // ìŒì„± ì¸ì‹ ì¤‘ì§€
        function stopVoiceRecognition() {
            isListening = false;
            updateVoiceStatus('ìŒì„± ì¸ì‹ ëŒ€ê¸° ì¤‘ - ë‹¤ì‹œ ì‹œì‘í•˜ë ¤ë©´ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”');
            document.getElementById('voiceBtn').textContent = 'ğŸ¤ ìŒì„± ì¸ì‹ ì‹œì‘';
            document.getElementById('voiceBtn').classList.remove('listening');
            document.getElementById('floatingVoice').classList.remove('listening');
            document.getElementById('voiceStatus').classList.remove('listening');
        }

        // ìŒì„± í…ŒìŠ¤íŠ¸
        function testVoiceRecognition() {
            if (!recognition) {
                showResult('âš ï¸ ë¨¼ì € ë§ˆì´í¬ ê¶Œí•œì„ í—ˆìš©í•˜ê³  ìŒì„± ì¸ì‹ì„ ì´ˆê¸°í™”í•´ì£¼ì„¸ìš”.', 'error');
                return;
            }
            
            showResult('ğŸ”Š ìŒì„± í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. "ì•ˆë…•í•˜ì„¸ìš”"ë¼ê³  ë§í•´ë³´ì„¸ìš”.', 'info');
            setTimeout(() => {
                toggleVoiceRecognition();
            }, 1000);
        }

        // ìŒì„± ìƒíƒœ ì—…ë°ì´íŠ¸
        function updateVoiceStatus(text) {
            document.getElementById('voiceStatusText').textContent = text;
        }

        // ìŒì„± ëª…ë ¹ ì²˜ë¦¬
        function processVoiceCommand(command) {
            const lowerCommand = command.toLowerCase();
            
            if (lowerCommand.includes('ì•ˆë…•') || lowerCommand.includes('ë¦¬ë‚˜')) {
                const response = 'ì•ˆë…•í•˜ì„¸ìš”! ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?';
                addMessage(response, 'ai');
                speakResponse(response);
            } else if (lowerCommand.includes('ìœ íŠœë¸Œ') || lowerCommand.includes('ì˜ìƒ')) {
                setTimeout(() => createYouTube(), 500);
                speakResponse('ìœ íŠœë¸Œ ì½˜í…ì¸  ìƒì„±ì„ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤.');
            } else if (lowerCommand.includes('íŒŒì¼') || lowerCommand.includes('ë¬¸ì„œ')) {
                setTimeout(() => createFile(), 500);
                speakResponse('íŒŒì¼ ì œì‘ì„ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤.');
            } else if (lowerCommand.includes('ì‹œê°„') || lowerCommand.includes('ëª‡ì‹œ')) {
                const now = new Date();
                const timeString = now.toLocaleTimeString('ko-KR');
                const response = `í˜„ì¬ ì‹œê°„ì€ ${timeString}ì…ë‹ˆë‹¤.`;
                addMessage(response, 'ai');
                speakResponse(response);
            } else if (lowerCommand.includes('ì¥ì¹˜') || lowerCommand.includes('ì—°ê²°')) {
                setTimeout(() => connectDevices(), 500);
                speakResponse('ì¥ì¹˜ ì—°ê²°ì„ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤.');
            } else {
                const response = `"${command}" ëª…ë ¹ì„ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤!`;
                addMessage(response, 'ai');
                speakResponse(response);
            }
        }

        // ìŒì„± í•©ì„±
        function speakResponse(text) {
            if (!speechSynthesis) return;
            
            speechSynthesis.cancel();
            
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ko-KR';
            utterance.rate = 1.0;
            utterance.pitch = 1.0;
            utterance.volume = 1.0;
            
            // í•œêµ­ì–´ ìŒì„± ì„ íƒ
            const voices = speechSynthesis.getVoices();
            const koreanVoice = voices.find(voice => voice.lang.includes('ko'));
            if (koreanVoice) {
                utterance.voice = koreanVoice;
            }
            
            speechSynthesis.speak(utterance);
        }

        // ê¸°íƒ€ ê¸°ëŠ¥ë“¤
        function createYouTube() {
            showResult('ğŸ“º ìœ íŠœë¸Œ ì½˜í…ì¸  ìƒì„± ì‹œì‘...');
            setTimeout(() => {
                showResult(`ğŸ“º ìœ íŠœë¸Œ ì½˜í…ì¸  ìƒì„± ì™„ë£Œ!<br>â€¢ ì œëª©: "AIê°€ ë°”ê¾¸ëŠ” ë¯¸ë˜"<br>â€¢ ê¸¸ì´: 8ë¶„ 30ì´ˆ<br>â€¢ ì˜ˆìƒ ì¡°íšŒìˆ˜: 50,000íšŒ`);
                addMessage('ğŸ“º ìœ íŠœë¸Œ ì½˜í…ì¸ ê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!', 'ai');
            }, 2000);
        }

        function createFile() {
            showResult('ğŸ“ íŒŒì¼ ì œì‘ ì‹œì‘...');
            setTimeout(() => {
                showResult(`ğŸ“ íŒŒì¼ ì œì‘ ì™„ë£Œ!<br>â€¢ ë¦¬í¬íŠ¸: 25í˜ì´ì§€<br>â€¢ ì ‘ê·¼ ë§í¬: https://files.lyna-ai.com/report`);
                addMessage('ğŸ“ ì „ë¬¸ íŒŒì¼ì´ ì œì‘ë˜ì–´ í´ë¼ìš°ë“œì— ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!', 'ai');
            }, 1800);
        }

        function connectDevices() {
            showResult('ğŸ“± ì¥ì¹˜ ì—°ê²° ì¤‘...');
            setTimeout(() => {
                showResult(`ğŸ“± ì¥ì¹˜ ì—°ê²° ì™„ë£Œ!<br>â€¢ ì‚¼ì„± ìŠ¤ë§ˆíŠ¸ TV: ì—°ê²°ë¨<br>â€¢ LYNA ë¡œë´‡: ì—°ê²°ë¨<br>â€¢ ìŠ¤ë§ˆíŠ¸í™ˆ: 4ëŒ€ ì—°ê²°`);
                addMessage('ğŸ“± ëª¨ë“  ìŠ¤ë§ˆíŠ¸ ê¸°ê¸°ê°€ ì„±ê³µì ìœ¼ë¡œ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤!', 'ai');
            }, 1500);
        }

        function makeCall() {
            showResult('ğŸ“ LYNA AIì™€ í†µí™” ì—°ê²° ì¤‘...');
            setTimeout(() => {
                showResult('ğŸ“ LYNA AI ìŒì„± í†µí™” ì—°ê²° ì™„ë£Œ!');
                addMessage('ğŸ“ LYNA AIì™€ ìŒì„± í†µí™”ê°€ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤!', 'ai');
                speakResponse('ì•ˆë…•í•˜ì„¸ìš”! LYNA AIì™€ ìŒì„± í†µí™”ê°€ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.');
            }, 2000);
        }

        // ë©”ì‹œì§€ ë° ê²°ê³¼ í‘œì‹œ
        function showResult(message, type = 'info') {
            const resultsArea = document.getElementById('resultsArea');
            const resultItem = document.createElement('div');
            resultItem.className = `result-item ${type === 'voice' ? 'voice-result' : ''}`;
            resultItem.innerHTML = message;
            resultsArea.insertBefore(resultItem, resultsArea.firstChild);
            
            while (resultsArea.children.length > 5) {
                resultsArea.removeChild(resultsArea.lastChild);
            }
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (message === '') return;
            
            addMessage(message, 'user');
            input.value = '';
            
            setTimeout(() => {
                const response = generateResponse(message);
                addMessage(response, 'ai');
                speakResponse(response);
            }, 800);
        }

        function generateResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            if (lowerMessage.includes('ì•ˆë…•') || lowerMessage.includes('í•˜ì´')) {
                return 'ì•ˆë…•í•˜ì„¸ìš”! LYNA AIì…ë‹ˆë‹¤. ìŒì„± ì¸ì‹ ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ë³´ì„¸ìš”!';
            }
            
            if (lowerMessage.includes('ìŒì„±') || lowerMessage.includes('ë§ˆì´í¬')) {
                return 'ìŒì„± ì¸ì‹ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € ë§ˆì´í¬ ê¶Œí•œì„ í—ˆìš©í•´ì£¼ì„¸ìš”. ê·¸ ë‹¤ìŒ ìŒì„± ì¸ì‹ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”!';
            }
            
            return `"${message}"ì— ëŒ€í•´ ë„ì›€ì„ ë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìŒì„±ìœ¼ë¡œë„ ë§ì”€í•´ë³´ì„¸ìš”!`;
        }

        function addMessage(text, sender) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            messageDiv.textContent = text;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            // ìŒì„± ì¸ì‹ ì§€ì› í™•ì¸
            checkVoiceSupport();
            
            // ì…ë ¥ í•„ë“œ í¬ì»¤ìŠ¤
            document.getElementById('messageInput').focus();
            
            // í™˜ì˜ ë©”ì‹œì§€
            setTimeout(() => {
                addMessage('ğŸ‰ ì§„ì§œ ìŒì„± ì¸ì‹ì´ ê°€ëŠ¥í•œ LYNA AIì…ë‹ˆë‹¤! ë§ˆì´í¬ ê¶Œí•œì„ í—ˆìš©í•˜ê³  ìŒì„± ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ë³´ì„¸ìš”!', 'ai');
            }, 1000);
            
            // ìŒì„± ëª©ë¡ ë¡œë“œ
            if (speechSynthesis.onvoiceschanged !== undefined) {
                speechSynthesis.onvoiceschanged = function() {
                    // ìŒì„± ëª©ë¡ì´ ë¡œë“œëœ í›„ ì‹¤í–‰
                };
            }
        });
    </script>
</body>
</html>
