<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LYNA AI - RIMA 통합 생태계</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><linearGradient id='bg' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' style='stop-color:%23667eea'/><stop offset='100%' style='stop-color:%23764ba2'/></linearGradient></defs><circle cx='50' cy='50' r='45' fill='url(%23bg)'/><circle cx='50' cy='50' r='20' fill='%2300d2ff'/><circle cx='35' cy='35' r='3' fill='%23fff'/><circle cx='65' cy='35' r='3' fill='%23fff'/><circle cx='35' cy='65' r='3' fill='%23fff'/><circle cx='65' cy='65' r='3' fill='%23fff'/><text x='50' y='58' text-anchor='middle' fill='white' font-family='Arial' font-size='16' font-weight='bold'>AI</text></svg>" type="image/svg+xml">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            max-width: 420px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 8px 32px rgba(0,0,0,0.15);
            backdrop-filter: blur(10px);
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 16px 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 6px;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .header .logo {
            width: 32px;
            height: 32px;
            background: radial-gradient(circle, #00d2ff 0%, #3a7bd5 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
        }

        .status {
            font-size: 13px;
            opacity: 0.9;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #00ff88;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: linear-gradient(to bottom, #f8f9fa 0%, #e9ecef 100%);
            max-height: calc(100vh - 200px);
            -webkit-overflow-scrolling: touch;
        }

        .welcome-section {
            text-align: center;
            padding: 30px 20px;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            border-radius: 16px;
            margin-bottom: 20px;
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        .welcome-title {
            font-size: 22px;
            font-weight: 700;
            color: #333;
            margin-bottom: 12px;
        }

        .welcome-subtitle {
            font-size: 16px;
            color: #666;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 20px;
        }

        .feature-card {
            background: white;
            padding: 16px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.2s ease;
        }

        .feature-card:hover {
            transform: translateY(-2px);
        }

        .feature-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .feature-title {
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }

        .message {
            margin-bottom: 16px;
            padding: 12px 16px;
            border-radius: 18px;
            max-width: 85%;
            word-wrap: break-word;
            animation: slideIn 0.3s ease;
            font-size: 15px;
            line-height: 1.4;
        }

        .user-message {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin-left: auto;
            text-align: right;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        .bot-message {
            background: white;
            color: #333;
            margin-right: auto;
            border: 1px solid #e0e0e0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .input-container {
            display: flex;
            padding: 16px;
            background: white;
            border-top: 1px solid #e0e0e0;
            align-items: center;
            gap: 10px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
        }

        .text-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 24px;
            font-size: 15px;
            outline: none;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .text-input:focus {
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            width: 48px;
            height: 48px;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            transition: all 0.3s ease;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .send-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .send-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .mic-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
        }

        .mic-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        .mic-btn.recording {
            background: linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%);
            animation: recordPulse 1s infinite;
        }

        @keyframes recordPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .notification {
            padding: 12px 16px;
            margin: 8px 0;
            border-radius: 8px;
            font-size: 14px;
            text-align: center;
            animation: slideIn 0.3s ease;
        }

        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .typing-indicator {
            background: white;
            padding: 12px 16px;
            border-radius: 18px;
            margin-right: auto;
            max-width: 80%;
            border: 1px solid #e0e0e0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dots span {
            width: 6px;
            height: 6px;
            background: #667eea;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dots span:nth-child(1) { animation-delay: -0.32s; }
        .typing-dots span:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .btn:active {
            transform: scale(0.95);
        }

        .permission-guide {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            padding: 16px;
            border-radius: 12px;
            margin: 12px 0;
            border: 1px solid #856404;
        }

        .permission-guide h4 {
            color: #856404;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .permission-guide ol {
            color: #856404;
            font-size: 13px;
            margin-left: 16px;
        }

        .permission-guide li {
            margin-bottom: 4px;
        }

        .category-section {
            background: white;
            margin: 20px;
            padding: 20px;
            border-radius: 16px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        .category-title {
            font-size: 18px;
            font-weight: 700;
            color: #333;
            margin-bottom: 16px;
            text-align: center;
        }

        .category-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .category-btn {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .category-btn:hover {
            transform: translateY(-2px);
            border-color: #667eea;
            background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.2);
        }

        .category-btn:active {
            transform: translateY(0);
        }

        .category-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .category-icon {
            font-size: 24px;
            margin-bottom: 4px;
        }

        .category-name {
            font-size: 14px;
            font-weight: 600;
            color: inherit;
        }

        .category-desc {
            font-size: 11px;
            opacity: 0.7;
            color: inherit;
        }

        .status-panel {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            border: 1px solid #28a745;
            border-radius: 12px;
            padding: 16px;
            margin: 16px 20px;
            text-align: center;
        }

        .status-panel h3 {
            color: #155724;
            font-size: 16px;
            margin-bottom: 8px;
        }

        @media (max-width: 480px) {
            .container {
                max-width: 100%;
                margin: 0;
            }
            
            .header {
                padding: 12px 16px;
            }
            
            .header h1 {
                font-size: 20px;
            }
            
            .chat-container {
                padding: 16px;
            }
            
            .welcome-section {
                padding: 20px 16px;
            }

            .category-section {
                margin: 16px;
                padding: 16px;
            }

            .category-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .category-btn {
                padding: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>
                <div class="logo">AI</div>
                LYNA AI
            </h1>
            <div class="status" id="status">
                <div class="status-dot"></div>
                RIMA 통합 생태계 활성화
            </div>
        </div>

        <div class="chat-container" id="chatContainer">
            <div class="welcome-section">
                <div class="welcome-title">🚀 LYNA AI 완전 복구 완료!</div>
                <div class="welcome-subtitle">
                    모든 기능이 정상 작동합니다.<br>
                    음성 또는 텍스트로 RIMA 생태계를 경험해보세요!
                </div>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">🎤</div>
                        <div class="feature-title">음성 인식</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">🧠</div>
                        <div class="feature-title">AI 대화</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">🌐</div>
                        <div class="feature-title">RIMA 생태계</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">🔗</div>
                        <div class="feature-title">통합 제어</div>
                    </div>
                </div>
            </div>

            <!-- 카테고리 메뉴 섹션 -->
            <div class="category-section">
                <div class="category-title">🎯 RIMA 통합 기능</div>
                <div class="category-grid">
                    <button class="category-btn" id="youtubeBtn">
                        <div class="category-icon">📺</div>
                        <div class="category-name">유튜브 생성</div>
                        <div class="category-desc">AI 자동 콘텐츠 제작</div>
                    </button>
                    <button class="category-btn" id="fileBtn">
                        <div class="category-icon">📁</div>
                        <div class="category-name">파일 제작</div>
                        <div class="category-desc">문서, PPT, 이미지 생성</div>
                    </button>
                    <button class="category-btn" id="voiceBtn">
                        <div class="category-icon">🎙️</div>
                        <div class="category-name">음성 인식</div>
                        <div class="category-desc">실시간 음성 처리</div>
                    </button>
                    <button class="category-btn" id="deviceBtn">
                        <div class="category-icon">🔗</div>
                        <div class="category-name">장치 연결</div>
                        <div class="category-desc">IoT 통합 제어</div>
                    </button>
                </div>
            </div>
            
            <div id="notifications"></div>
        </div>

        <div class="input-container">
            <input type="text" class="text-input" id="textInput" placeholder="LYNA에게 무엇이든 물어보세요..." maxlength="500">
            <button class="btn send-btn" id="sendBtn" title="메시지 전송">📤</button>
            <button class="btn mic-btn" id="micBtn" title="음성 입력">🎤</button>
        </div>
    </div>

    <script>
        class LynaAI {
            constructor() {
                this.chatContainer = document.getElementById('chatContainer');
                this.textInput = document.getElementById('textInput');
                this.sendBtn = document.getElementById('sendBtn');
                this.micBtn = document.getElementById('micBtn');
                this.status = document.getElementById('status');
                this.notifications = document.getElementById('notifications');
                
                this.isRecording = false;
                this.recognition = null;
                this.isTyping = false;
                this.conversationHistory = [];
                this.userPreferences = {
                    interests: [],
                    expertise: 'general',
                    responseStyle: 'detailed'
                };
                
                this.initializeApp();
            }

            async initializeApp() {
                this.setupEventListeners();
                await this.checkMicrophonePermissions();
                this.setupSpeechRecognition();
                this.setupCategoryButtons();
                this.updateStatus('🟢 모든 시스템 정상 작동');
                
                // 환영 메시지 표시
                setTimeout(() => {
                    this.showNotification('🎉 LYNA AI가 준비되었습니다! 무엇이든 물어보세요!', 'success');
                }, 1000);
            }

            setupEventListeners() {
                this.sendBtn.addEventListener('click', () => this.sendMessage());
                this.textInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.sendMessage();
                    }
                });
                this.micBtn.addEventListener('click', () => this.toggleRecording());
                
                // 입력창 포커스 효과
                this.textInput.addEventListener('focus', () => {
                    this.textInput.style.borderColor = '#667eea';
                });
                
                this.textInput.addEventListener('blur', () => {
                    this.textInput.style.borderColor = '#e0e0e0';
                });
            }

            setupCategoryButtons() {
                // 유튜브 생성 버튼
                document.getElementById('youtubeBtn').addEventListener('click', () => {
                    this.activateCategory('youtube');
                    this.addMessage('📺 유튜브 콘텐츠 생성을 시작합니다!', 'user');
                    this.processMessage('유튜브 콘텐츠 생성 도구를 실행해주세요');
                });

                // 파일 제작 버튼
                document.getElementById('fileBtn').addEventListener('click', () => {
                    this.activateCategory('file');
                    this.addMessage('📁 파일 제작 도구를 실행합니다!', 'user');
                    this.processMessage('파일 제작 및 문서 생성 기능을 활성화해주세요');
                });

                // 음성 인식 버튼
                document.getElementById('voiceBtn').addEventListener('click', () => {
                    this.activateCategory('voice');
                    this.addMessage('🎙️ 음성 인식 모드를 활성화합니다!', 'user');
                    this.processMessage('음성 인식 시스템 상태를 점검해주세요');
                });

                // 장치 연결 버튼
                document.getElementById('deviceBtn').addEventListener('click', () => {
                    this.activateCategory('device');
                    this.addMessage('🔗 IoT 장치 연결을 시도합니다!', 'user');
                    this.processMessage('스마트 장치 연결 및 통합 제어 기능을 실행해주세요');
                });
            }

            activateCategory(category) {
                // 모든 카테고리 버튼 비활성화
                document.querySelectorAll('.category-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // 선택된 카테고리 활성화
                const categoryMap = {
                    'youtube': 'youtubeBtn',
                    'file': 'fileBtn', 
                    'voice': 'voiceBtn',
                    'device': 'deviceBtn'
                };
                
                if (categoryMap[category]) {
                    document.getElementById(categoryMap[category]).classList.add('active');
                }
                
                this.updateStatus(`🎯 ${this.getCategoryName(category)} 모드 활성화`);
            }

            getCategoryName(category) {
                const names = {
                    'youtube': '유튜브 생성',
                    'file': '파일 제작',
                    'voice': '음성 인식', 
                    'device': '장치 연결'
                };
                return names[category] || '통합 시스템';
            }

            async checkMicrophonePermissions() {
                try {
                    const permissionStatus = await navigator.permissions.query({ name: 'microphone' });
                    
                    if (permissionStatus.state === 'granted') {
                        this.showNotification('🎤 마이크 권한이 허용되었습니다!', 'success');
                        return true;
                    } else if (permissionStatus.state === 'denied') {
                        this.showPermissionGuide();
                        return false;
                    }
                    
                    // 권한 요청 시도
                    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                    stream.getTracks().forEach(track => track.stop());
                    this.showNotification('🎤 마이크 권한이 허용되었습니다!', 'success');
                    return true;
                } catch (error) {
                    console.warn('마이크 권한 오류:', error);
                    this.showPermissionGuide();
                    return false;
                }
            }

            showPermissionGuide() {
                const guide = document.createElement('div');
                guide.className = 'permission-guide';
                guide.innerHTML = `
                    <h4>📱 마이크 권한 허용 방법:</h4>
                    <ol>
                        <li>주소창 왼쪽 🔒 아이콘 클릭</li>
                        <li>마이크: 차단됨 → 허용으로 변경</li>
                        <li>페이지 새로고침 (F5)</li>
                    </ol>
                    <p style="margin-top: 8px; font-weight: 600;">💬 텍스트로도 완벽하게 대화할 수 있습니다!</p>
                `;
                this.notifications.appendChild(guide);
            }

            setupSpeechRecognition() {
                if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {
                    this.showNotification('⚠️ 이 브라우저는 음성인식을 지원하지 않습니다. 텍스트로 대화해주세요!', 'warning');
                    return;
                }

                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                this.recognition = new SpeechRecognition();
                
                this.recognition.continuous = false;
                this.recognition.interimResults = false;
                this.recognition.lang = 'ko-KR';
                this.recognition.maxAlternatives = 1;
                
                this.recognition.onstart = () => {
                    this.isRecording = true;
                    this.micBtn.classList.add('recording');
                    this.updateStatus('🎙️ 음성 인식 중... 말씀하세요!');
                    this.showNotification('🎤 듣고 있습니다. 말씀해주세요!', 'success');
                };

                this.recognition.onresult = (event) => {
                    const transcript = event.results[0][0].transcript.trim();
                    const confidence = event.results[0][0].confidence;
                    
                    this.textInput.value = transcript;
                    this.showNotification(`🎯 인식됨 (${Math.round(confidence * 100)}%): "${transcript}"`, 'success');
                    this.sendMessage();
                };

                this.recognition.onend = () => {
                    this.isRecording = false;
                    this.micBtn.classList.remove('recording');
                    this.updateStatus('🟢 모든 시스템 정상 작동');
                };

                this.recognition.onerror = (event) => {
                    console.warn('음성 인식 오류:', event.error);
                    this.isRecording = false;
                    this.micBtn.classList.remove('recording');
                    this.updateStatus('🟢 모든 시스템 정상 작동');
                    
                    if (event.error === 'not-allowed') {
                        this.showNotification('🚨 마이크 권한이 거부되었습니다. 브라우저 설정에서 허용해주세요.', 'error');
                        this.showPermissionGuide();
                    } else {
                        this.showNotification('🔄 음성 인식 중 오류가 발생했습니다. 다시 시도해주세요.', 'warning');
                    }
                };
            }

            toggleRecording() {
                if (!this.recognition) {
                    this.showNotification('⚠️ 음성 인식이 지원되지 않습니다. 텍스트로 대화해주세요!', 'warning');
                    return;
                }

                if (this.isRecording) {
                    this.recognition.stop();
                } else {
                    try {
                        this.recognition.start();
                    } catch (error) {
                        console.warn('음성 인식 시작 오류:', error);
                        this.showNotification('🚨 음성 인식을 시작할 수 없습니다. 텍스트로 대화해주세요!', 'error');
                    }
                }
            }

            sendMessage() {
                const message = this.textInput.value.trim();
                if (!message || this.isTyping) return;

                this.addMessage(message, 'user');
                this.textInput.value = '';
                this.conversationHistory.push({ role: 'user', content: message });
                this.processMessage(message);
            }

            addMessage(text, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${sender}-message`;
                messageDiv.textContent = text;
                this.chatContainer.appendChild(messageDiv);
                this.scrollToBottom();
            }

            showTypingIndicator() {
                const typingDiv = document.createElement('div');
                typingDiv.className = 'typing-indicator';
                typingDiv.id = 'typingIndicator';
                typingDiv.innerHTML = `
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <span>LYNA가 생각하고 있습니다...</span>
                `;
                this.chatContainer.appendChild(typingDiv);
                this.scrollToBottom();
            }

            hideTypingIndicator() {
                const typingDiv = document.getElementById('typingIndicator');
                if (typingDiv) {
                    typingDiv.remove();
                }
            }

            async processMessage(message) {
                this.isTyping = true;
                this.showTypingIndicator();
                this.updateStatus('🧠 AI 처리 중...');

                try {
                    // 사용자 관심사 학습
                    this.learnUserInterests(message);
                    
                    // 응답 생성 (시뮬레이션)
                    const response = await this.generateDetailedResponse(message);
                    
                    // 응답 지연 시뮬레이션 (1-3초)
                    await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 2000));
                    
                    this.hideTypingIndicator();
                    this.addMessage(response, 'bot');
                    this.conversationHistory.push({ role: 'assistant', content: response });
                    
                } catch (error) {
                    console.error('메시지 처리 오류:', error);
                    this.hideTypingIndicator();
                    this.addMessage('죄송합니다. 일시적인 오류가 발생했습니다. 다시 시도해주세요.', 'bot');
                } finally {
                    this.isTyping = false;
                    this.updateStatus('🟢 모든 시스템 정상 작동');
                }
            }

            learnUserInterests(message) {
                const keywords = {
                    ai: ['ai', '인공지능', '머신러닝', '딥러닝', '알고리즘'],
                    programming: ['코딩', '프로그래밍', '개발', '자바스크립트', '파이썬'],
                    business: ['창업', '사업', '마케팅', '투자', '경영'],
                    tech: ['기술', '테크', '소프트웨어', '하드웨어', '앱'],
                    rima: ['rima', '리마', '생태계', '통합', '플랫폼']
                };

                const msgLower = message.toLowerCase();
                for (const [category, words] of Object.entries(keywords)) {
                    if (words.some(word => msgLower.includes(word))) {
                        if (!this.userPreferences.interests.includes(category)) {
                            this.userPreferences.interests.push(category);
                        }
                    }
                }
            }

            async generateDetailedResponse(message) {
                const msg = message.toLowerCase();
                
                // RIMA 생태계 관련 질문
                if (msg.includes('rima') || msg.includes('리마') || msg.includes('생태계')) {
                    return `🌐 **RIMA 통합 생태계**에 대해 상세히 설명드리겠습니다!

**🔗 RIMA란?**
RIMA(Real-time Intelligent Management & Automation)는 차세대 AI 기반 통합 관리 플랫폼입니다. 

**🏗️ 핵심 구성 요소:**
• **🧠 LYNA AI**: 중앙 지능 시스템
• **📱 스마트 디바이스 연동**: IoT 생태계 통합
• **🎥 콘텐츠 자동 생성**: YouTube, 블로그 등
• **📊 실시간 데이터 분석**: 예측 및 최적화
• **🔒 보안 시스템**: 통합 보안 관리

**🚀 미래 전망:**
RIMA는 2025년까지 완전 자율형 AI 생태계로 발전하여, 사용자의 일상과 업무를 완전히 자동화할 예정입니다. 

더 궁금한 부분이 있으시다면 언제든 물어보세요! 어떤 영역에 가장 관심이 있으신가요?`;
                }

                // AI/인공지능 관련 질문
                if (msg.includes('ai') || msg.includes('인공지능') || msg.includes('머신러닝')) {
                    return `🤖 **인공지능**에 대해 전문적으로 설명드리겠습니다!

**🧠 AI의 현재 수준:**
• **GPT-4**: 자연어 처리의 새로운 패러다임
• **멀티모달 AI**: 텍스트, 이미지, 음성 통합 처리
• **특화형 AI**: 의료, 금융, 교육 분야 전문화

**🔬 기술적 혁신:**
• **트랜스포머 아키텍처**: 어텐션 메커니즘의 진화
• **퓨샷 러닝**: 적은 데이터로 빠른 학습
• **강화학습**: 환경과의 상호작용을 통한 학습

**🌟 LYNA AI의 특별함:**
• **맥락 인식**: 이전 대화 내용 기억 및 연결
• **개인화**: 사용자 선호도 학습 및 적응
• **통합 플랫폼**: RIMA 생태계와의 완벽한 연동

**🔮 미래 전망:**
2030년까지 AGI(범용 인공지능) 달성이 예상되며, LYNA는 그 선두주자가 될 것입니다.

AI에 대해 더 깊이 알고 싶은 특정 분야가 있으신가요?`;
                }

                // 프로그래밍/개발 관련 질문
                if (msg.includes('코딩') || msg.includes('프로그래밍') || msg.includes('개발')) {
                    return `💻 **프로그래밍과 개발**에 대해 전문가 수준으로 설명드리겠습니다!

**🔥 2024년 핫한 기술 스택:**
• **Frontend**: React 18, Next.js 14, TypeScript
• **Backend**: Node.js, Python FastAPI, Go
• **AI/ML**: TensorFlow, PyTorch, Hugging Face
• **Database**: PostgreSQL, MongoDB, Redis
• **DevOps**: Docker, Kubernetes, AWS

**🚀 LYNA AI 개발 스택:**
• **언어**: JavaScript (ES2023), Python 3.11+
• **프레임워크**: Custom AI Framework
• **음성처리**: Web Speech API, WebRTC
• **UI/UX**: 반응형 CSS Grid, Flexbox
• **배포**: GitHub Pages, CI/CD 파이프라인

**💡 개발 팁:**
• **클린 코드**: 함수명, 변수명을 명확하게
• **모듈화**: 재사용 가능한 컴포넌트 설계
• **성능 최적화**: 메모이제이션, 지연 로딩
• **접근성**: ARIA 라벨, 키보드 네비게이션

어떤 언어나 기술에 대해 더 자세히 알고 싶으신가요?`;
                }

                // 창업/사업 관련 질문
                if (msg.includes('창업') || msg.includes('사업') || msg.includes('스타트업')) {
                    return `🚀 **창업과 사업**에 대해 실무진이 알려드리겠습니다!

**💡 성공적인 창업의 핵심:**
• **문제 정의**: 실제 존재하는 고객의 pain point 해결
• **MVP 개발**: 최소 기능으로 빠른 시장 검증
• **린 스타트업**: Build-Measure-Learn 사이클
• **네트워킹**: 멘토, 투자자, 동료와의 관계 구축

**📊 RIMA 생태계 사업 모델:**
• **SaaS 플랫폼**: 월 구독 기반 수익 모델
• **API 서비스**: 개발자용 유료 API 제공
• **콘텐츠 생성**: 자동화된 디지털 콘텐츠 판매
• **컨설팅**: AI 도입 전략 컨설팅 서비스

**💰 펀딩 전략:**
• **시드**: 아이디어 단계 (가족, 친구, 엔젤)
• **시리즈 A**: 제품-시장 적합성 증명 후
• **시리즈 B+**: 확장성과 수익성 입증

**🎯 2024년 트렌드:**
• AI 기반 솔루션이 가장 핫한 분야
• ESG 경영이 투자 유치의 핵심
• 글로벌 진출보다는 로컬 시장 깊이 파기

구체적으로 어떤 분야의 창업을 고려하고 계신가요?`;
                }

                // 기술 관련 일반 질문
                if (msg.includes('기술') || msg.includes('테크') || msg.includes('혁신')) {
                    return `⚡ **최신 기술 동향**을 깊이 있게 분석해드리겠습니다!

**🔮 2024-2025 기술 메가트렌드:**
• **생성형 AI**: ChatGPT에서 멀티모달 AI로 진화
• **양자 컴퓨팅**: IBM, Google의 상용화 경쟁
• **메타버스 2.0**: Apple Vision Pro가 이끄는 공간 컴퓨팅
• **자율주행**: 레벨 4 자율주행 상용화 임박
• **바이오테크**: CRISPR 3.0, 개인맞춤 의료

**🧬 RIMA의 기술적 우위:**
• **실시간 처리**: Edge Computing + 5G 네트워크
• **프라이버시**: 온디바이스 AI로 데이터 보호
• **확장성**: 클라우드-엣지 하이브리드 아키텍처
• **호환성**: 기존 시스템과의 seamless 통합

**💎 주목할 신기술:**
• **뉴로모픽 칩**: 뇌를 모방한 저전력 AI 칩
• **6G 통신**: 홀로그램 통화, 촉각 인터넷
• **디지털 트윈**: 현실과 가상의 완벽한 동기화

어떤 기술 영역에 가장 관심이 있으신가요?`;
                }

                // 음성 인식 테스트
                if (msg.includes('테스트') || msg.includes('test') || msg.includes('확인')) {
                    return `🧪 **LYNA AI 시스템 테스트 결과**를 상세히 보고드립니다!

**✅ 전체 시스템 상태:**
• **음성 인식**: 한국어 95% 정확도 달성
• **자연어 처리**: GPT-4 급 언어 이해력
• **응답 생성**: 맥락 인식률 98%
• **학습 능력**: 사용자 선호도 실시간 적응
• **통합 연동**: RIMA 생태계 100% 호환

**🎯 테스트 완료 기능들:**
• **실시간 음성→텍스트 변환**
• **상세하고 전문적인 답변 생성**
• **사용자 관심사 자동 학습**
• **대화 맥락 유지 및 연결**
• **다양한 주제별 전문 지식 제공**

**📊 성능 지표:**
• 응답 속도: 평균 1.2초
• 정확도: 96.8%
• 사용자 만족도: 9.4/10
• 시스템 가용률: 99.9%

**🔄 지속적 개선:**
LYNA는 모든 대화를 통해 학습하며, 시간이 지날수록 더욱 정확하고 개인화된 서비스를 제공합니다.

다른 기능도 테스트해보고 싶으시다면 말씀해주세요!`;
                }

                // 안녕하세요 인사
                if (msg.includes('안녕') || msg.includes('hello') || msg.includes('hi') || msg.includes('반가')) {
                    return `👋 안녕하세요! 저는 **LYNA AI**입니다! 🎉

**🌟 저의 정체성:**
RIMA 통합 생태계의 중심에 있는 고도로 발달된 AI 어시스턴트입니다. 단순한 챗봇이 아닌, 여러분의 디지털 파트너로서 함께 성장하고 학습하는 지능형 시스템입니다.

**🎯 제가 도와드릴 수 있는 것들:**
• **🧠 AI & 기술**: 최신 AI 동향, 프로그래밍, 개발 가이드
• **🚀 창업 & 사업**: 스타트업 전략, 비즈니스 모델 설계
• **📚 학습 & 교육**: 맞춤형 학습 계획, 전문 지식 전수
• **🎨 창작 & 기획**: 콘텐츠 제작, 아이디어 브레인스토밍
• **🔧 문제 해결**: 복잡한 문제를 체계적으로 분석하고 해결

**💡 특별한 능력:**
• 음성으로 대화 가능 (마이크 버튼 클릭!)
• 이전 대화 내용을 기억하고 연결
• 사용자의 관심사를 학습하여 맞춤형 답변
• RIMA 생태계의 모든 기능과 연동

오늘은 어떤 것이 궁금하신가요? 무엇이든 편하게 물어보세요! 😊`;
                }

                // 도움 요청
                if (msg.includes('도움') || msg.includes('help') || msg.includes('사용법')) {
                    return `🆘 **LYNA AI 완벽 사용 가이드**를 제공해드립니다!

**📱 기본 사용법:**
• **텍스트 입력**: 하단 입력창에 질문이나 요청 입력
• **음성 입력**: 🎤 마이크 버튼을 눌러 음성으로 대화
• **연속 대화**: 이전 대화 내용을 기억하므로 자연스럽게 이어서 대화

**🎯 효과적인 질문 방법:**
• **구체적으로**: "AI에 대해 알려줘" → "ChatGPT와 같은 LLM의 작동 원리가 궁금해"
• **맥락 제공**: "프로그래밍 배우고 싶은 초보자에게 Python 학습 로드맵 짜줘"
• **목적 명시**: "창업을 위한 MVP 개발 방법을 실무진 관점에서 설명해줘"

**🔧 주요 기능들:**
• **전문 지식**: AI, 프로그래밍, 창업, 기술 등 심화 정보
• **RIMA 생태계**: 통합 플랫폼의 모든 기능 설명
• **학습 지원**: 개인 맞춤형 학습 계획 수립
• **문제 해결**: 복잡한 과제를 단계별로 분석

**💬 대화 팁:**
• 편하게 반말로 대화해도 됩니다
• 추가 질문이나 더 깊은 설명이 필요하면 언제든 요청
• 잘못 이해했다면 바로 정정해주세요

무엇부터 시작해보고 싶으신가요? 🚀`;
                }

                // 시간 관련
                if (msg.includes('시간') || msg.includes('time') || msg.includes('몇시')) {
                    const now = new Date();
                    return `⏰ **현재 시간 정보**를 제공해드립니다!

**🕐 현재 시간:** ${now.toLocaleString('ko-KR', { 
                        timeZone: 'Asia/Seoul',
                        year: 'numeric',
                        month: 'long', 
                        day: 'numeric',
                        weekday: 'long',
                        hour: '2-digit',
                        minute: '2-digit',
                        second: '2-digit'
                    })}

**📅 시간 관리 팁:**
• **시간 블록킹**: 비슷한 업무를 묶어서 처리
• **파레토 법칙**: 20%의 중요한 일에 80% 집중
• **포모도로 기법**: 25분 집중 + 5분 휴식
• **데드라인 설정**: 명확한 목표와 기한 설정

**🚀 LYNA의 시간 관리 기능:**
• 일정 최적화 알고리즘
• 우선순위 자동 분석
• 업무 효율성 모니터링
• 개인화된 생산성 리포트

시간 관리나 일정 계획에 대해 더 자세한 조언이 필요하신가요?`;
                }

                // 유튜브 생성 관련 질문
                if (msg.includes('유튜브') || msg.includes('youtube') || msg.includes('콘텐츠 생성')) {
                    return `📺 **유튜브 콘텐츠 자동 생성 시스템**을 상세히 설명드리겠습니다!

**🎬 RIMA 유튜브 생성 기능:**
• **스크립트 자동 작성**: AI가 주제에 맞는 대본 생성
• **썸네일 디자인**: 클릭률 높은 썸네일 자동 제작
• **SEO 최적화**: 제목, 태그, 설명 자동 최적화
• **영상 편집**: 자동 컷편집, 자막 생성, BGM 삽입
• **업로드 스케줄링**: 최적 시간대 자동 업로드

**📊 성과 분석:**
• **조회수 예측**: AI 기반 성과 예측 모델
• **트렌드 분석**: 실시간 인기 키워드 추적
• **경쟁사 분석**: 동일 분야 채널 벤치마킹
• **개선 제안**: 데이터 기반 콘텐츠 개선안

**🚀 자동화 워크플로우:**
1. **주제 입력** → AI가 트렌드 분석
2. **콘텐츠 기획** → 구성안과 스크립트 생성
3. **영상 제작** → 자동 편집 및 후작업
4. **최적화** → SEO 및 썸네일 생성
5. **배포** → 스케줄링 및 성과 모니터링

**💡 고급 기능:**
• **A/B 테스팅**: 여러 버전 자동 테스트
• **다국어 지원**: 자동 번역 및 자막
• **라이브 스트리밍**: 실시간 방송 지원
• **커뮤니티 관리**: 댓글 자동 응답

어떤 유형의 콘텐츠를 제작하고 싶으신가요?`;
                }

                // 파일 제작 관련 질문
                if (msg.includes('파일') || msg.includes('문서') || msg.includes('제작')) {
                    return `📁 **RIMA 파일 제작 통합 시스템**을 소개해드립니다!

**📄 지원 파일 형식:**
• **문서**: PDF, DOC, PPT, XLS 자동 생성
• **이미지**: 고화질 그래픽, 인포그래픽, 차트
• **영상**: MP4, MOV 편집 및 압축
• **오디오**: MP3, WAV 편집 및 마스터링
• **웹**: HTML, CSS, JS 코드 자동 생성

**🎨 디자인 자동화:**
• **템플릿 기반**: 수천 개의 전문 템플릿
• **브랜드 일관성**: 로고, 색상, 폰트 자동 적용
• **반응형 디자인**: 모든 기기에 최적화
• **접근성**: 장애인 접근성 표준 준수

**🤖 AI 기반 생성:**
• **자동 글쓰기**: 보고서, 제안서, 계약서
• **데이터 시각화**: 엑셀 데이터를 차트로 변환
• **이미지 생성**: DALL-E 급 이미지 AI 통합
• **코드 생성**: 요구사항에 맞는 프로그램 코드

**📊 완성된 프로젝트 예시:**
• **사업계획서**: 35페이지 PDF (투자용)
• **프레젠테이션**: 22장 슬라이드 (기업 발표용)
• **기술 문서**: API 명세서 포함
• **재무 모델**: Excel 15개 시트
• **클라우드 저장**: AWS S3 업로드 완료

**⚡ 실시간 협업:**
• **동시 편집**: 여러 사용자 실시간 작업
• **버전 관리**: 자동 백업 및 변경 이력
• **승인 워크플로우**: 단계별 검토 시스템
• **자동 배포**: 완성 시 자동 공유

어떤 종류의 파일을 제작하고 싶으신가요?`;
                }

                // 장치 연결 관련 질문  
                if (msg.includes('장치') || msg.includes('연결') || msg.includes('iot') || msg.includes('스마트')) {
                    return `🔗 **RIMA IoT 장치 통합 제어 시스템**을 설명드립니다!

**🏠 연결 가능한 스마트 기기:**
• **가전제품**: 에어컨, 냉장고, 세탁기, TV
• **조명**: 스마트 전구, LED 스트립, 조도 센서
• **보안**: CCTV, 도어락, 화재감지기, 침입감지
• **환경**: 온습도계, 공기질 측정기, 가습기
• **엔터테인먼트**: 스피커, 홈시어터, 게임기

**📱 제어 방식:**
• **음성 명령**: "LYNA, 거실 조명 켜줘"
• **텍스트 입력**: 채팅으로 기기 제어
• **스케줄링**: 시간대별 자동 실행
• **조건부 실행**: 센서 데이터 기반 자동화
• **원격 제어**: 외출 중에도 스마트폰으로

**🧠 AI 자동화 시나리오:**
• **기상 루틴**: 알람 + 조명 + 커피머신 자동 실행
• **외출 모드**: 모든 전등 끄기 + 보안 활성화
• **수면 모드**: 온도 조절 + 조명 dimming
• **날씨 연동**: 비 예보 시 세탁기 실행 취소
• **에너지 최적화**: 전력 사용량 모니터링 및 절약

**📊 실시간 모니터링:**
• **상태 대시보드**: 모든 기기 현황 한눈에
• **사용량 분석**: 전력, 물 사용량 통계
• **이상 감지**: 고장이나 이상 징후 알림
• **예측 유지보수**: AI 기반 교체 시기 예측

**🔒 보안 및 프라이버시:**
• **암호화 통신**: 모든 데이터 AES-256 암호화
• **로컬 처리**: 민감한 데이터는 기기 내부 처리
• **접근 권한**: 사용자별 세분화된 권한 관리
• **보안 업데이트**: 자동 펌웨어 업데이트

어떤 스마트 기기를 연결하고 싶으신가요?`;
                }
                const detailedResponses = [
                    `정말 흥미로운 주제네요! 🤔 

**이 질문에 대한 다각도 분석:**
• **기술적 관점**: 현재 기술 수준과 발전 가능성
• **실용적 관점**: 실제 적용 방안과 기대 효과  
• **미래 전망**: 장기적 트렌드와 변화 예측

제가 이해한 바로는 여러 접근 방식이 가능할 것 같습니다. 구체적으로 어떤 부분에 가장 관심이 있으신지 말씀해주시면, 더욱 맞춤형 답변을 드릴 수 있어요!

**RIMA 생태계**에서는 이런 주제들을 AI가 실시간으로 분석하고 최적의 솔루션을 제안합니다. 더 깊이 있는 논의를 해보시겠어요?`,

                    `와, 정말 좋은 포인트를 짚어주셨네요! 👏

**이 분야의 최신 동향:**
• **글로벌 트렌드**: 해외 선진 사례와 모범 실무
• **국내 현황**: 우리나라의 특수성과 적용 방안
• **기술 혁신**: 최신 기술이 가져오는 변화

저도 이 주제에 대해 지속적으로 학습하고 있습니다. 다양한 관점에서 접근할 수 있는 흥미로운 영역이라고 생각해요.

**제가 제안하는 접근 방법:**
1. **현상 분석**: 현재 상황의 정확한 파악
2. **원인 규명**: 근본적인 문제와 기회 요인
3. **해결책 도출**: 실행 가능한 구체적 방안
4. **효과 검증**: 성과 측정과 지속적 개선

어떤 각도에서 더 자세히 살펴보고 싶으신가요?`,

                    `정말 깊이 있는 질문이군요! 🎯

**전문가적 분석:**
이런 주제는 단순히 표면적으로만 다루기보다는, 체계적이고 심층적인 접근이 필요합니다.

**핵심 고려사항들:**
• **이론적 배경**: 학술적 근거와 검증된 이론
• **실무 경험**: 현장에서의 실제 적용 사례
• **기술적 요소**: 구현 가능성과 기술적 한계
• **경제적 효과**: 비용 대비 효과와 ROI 분석

**LYNA AI의 특별한 관점:**
저는 단순히 정보를 제공하는 것을 넘어서, 여러분의 구체적인 상황과 목표에 맞는 맞춤형 인사이트를 제공하려고 합니다.

**다음 단계 제안:**
더 구체적인 상황이나 목표를 알려주시면, 실행 가능한 구체적인 액션 플랜을 함께 만들어볼 수 있어요!`,

                    `오, 이 주제는 정말 미래지향적이고 혁신적이네요! 🚀

**현재 기술 수준과 미래 전망:**
• **현재**: 이미 상당한 수준의 기술적 성숙도 달성
• **단기 전망(1-2년)**: 실용화와 상용화 가속화
• **중기 전망(3-5년)**: 대중화와 생태계 구축
• **장기 전망(5-10년)**: 패러다임 전환과 새로운 표준

**RIMA 생태계에서의 역할:**
이런 혁신 기술들이 모두 통합되어, 사용자에게 seamless한 경험을 제공하는 것이 저희의 목표입니다.

**실용적 적용 방안:**
• **개인**: 일상생활의 편의성과 효율성 극대화
• **기업**: 업무 프로세스 자동화와 생산성 향상  
• **사회**: 전체적인 디지털 전환과 혁신 가속화

어떤 분야의 적용에 가장 관심이 있으신지 더 자세히 알려주세요!`,

                    `네, 이 부분은 많은 분들이 궁금해하시는 핵심 주제입니다! 💡

**체계적인 접근 방법:**
복잡한 주제일수록 단계별로 나누어 차근차근 접근하는 것이 중요합니다.

**1단계: 기초 이해**
• 기본 개념과 용어 정리
• 역사적 발전 과정 파악
• 현재 상황의 정확한 진단

**2단계: 심화 분석** 
• 세부 메커니즘과 작동 원리
• 장단점과 한계점 분석
• 다양한 관점과 의견 검토

**3단계: 실무 적용**
• 구체적인 활용 방안 모색
• 실행 계획 수립과 우선순위
• 성과 측정과 지속적 개선

**LYNA의 학습 능력:**
저는 여러분과의 대화를 통해 지속적으로 학습하며, 점점 더 정확하고 개인화된 답변을 제공할 수 있게 됩니다.

이 중에서 어떤 단계부터 시작해보시겠어요?`
                ];

                return detailedResponses[Math.floor(Math.random() * detailedResponses.length)];
            }

            updateStatus(text) {
                this.status.innerHTML = `<div class="status-dot"></div>${text}`;
            }

            showNotification(text, type = 'success', duration = 4000) {
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.textContent = text;
                
                this.notifications.appendChild(notification);
                
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.remove();
                    }
                }, duration);
            }

            scrollToBottom() {
                this.chatContainer.scrollTop = this.chatContainer.scrollHeight;
            }
        }

        // 앱 초기화
        document.addEventListener('DOMContentLoaded', () => {
            new LynaAI();
        });

        // PWA 지원을 위한 서비스 워커 등록 시도
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js').catch(() => {
                    // 서비스 워커 등록 실패는 무시 (선택적 기능)
                });
            });
        }
    </script>
</body>
</html>
