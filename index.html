# pip install --upgrade google-api-python-client google-auth-httplib2 google-auth-oauthlib
from googleapiclient.discovery import build
from google_auth_oauthlib.flow import InstalledAppFlow

SCOPES = ["https://www.googleapis.com/auth/youtube.upload"]
flow = InstalledAppFlow.from_client_secrets_file('client_secrets.json', SCOPES)
credentials = flow.run_console()
youtube = build('youtube', 'v3', credentials=credentials)

request = youtube.videos().insert(
    part="snippet,status",
    body={
      "snippet": {
        "title": "AI 자동 업로드 테스트",
        "description": "GPT 자동 업로드 성공",
        "tags": ["AI", "리마", "자동화"],
        "categoryId": "22"
      },
      "status": {"privacyStatus": "private"}
    },
    media_body="C:/video/동영상.mp4"
)
response = request.execute()
print(response)
