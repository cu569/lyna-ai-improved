<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>G911 리마 AI 메인 상황판</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-slate-100 to-indigo-200 min-h-screen">
  <div class="max-w-xl mx-auto p-4">
    <h1 class="text-3xl font-bold text-indigo-700 mb-4 mt-4 text-center tracking-tight">G911 리마 AI 메인 상황판</h1>
    <div class="grid grid-cols-2 gap-4 mt-6">
      <!-- 리마 생성 카드 -->
      <div onclick="runRima()" class="rounded-2xl shadow-xl bg-white p-5 flex flex-col items-center cursor-pointer hover:scale-105 transition">
        <span class="text-2xl mb-2">🪄</span>
        <span class="font-bold text-lg mb-1">리마 생성/실행</span>
        <span class="text-gray-500 text-sm">누르면 리마 1개 생성/실행</span>
      </div>
      <!-- 유튜브 업로드 카드 -->
      <div onclick="runYoutubeUpload()" class="rounded-2xl shadow-xl bg-white p-5 flex flex-col items-center cursor-pointer hover:scale-105 transition">
        <span class="text-2xl mb-2">📹</span>
        <span class="font-bold text-lg mb-1">유튜브 업로드</span>
        <span class="text-gray-500 text-sm">실제 파일 자동 업로드</span>
      </div>
      <!-- 상황/로그 카드 -->
      <div onclick="openLog()" class="rounded-2xl shadow-xl bg-white p-5 flex flex-col items-center cursor-pointer hover:scale-105 transition">
        <span class="text-2xl mb-2">📊</span>
        <span class="font-bold text-lg mb-1">상황판/로그</span>
        <span class="text-gray-500 text-sm">집계, 기록, 이력 실시간</span>
      </div>
      <!-- 채팅/알림 카드 -->
      <div onclick="openChat()" class="rounded-2xl shadow-xl bg-white p-5 flex flex-col items-center cursor-pointer hover:scale-105 transition">
        <span class="text-2xl mb-2">💬</span>
        <span class="font-bold text-lg mb-1">채팅/알림/보고</span>
        <span class="text-gray-500 text-sm">GPT+리마+나 3자 대화</span>
      </div>
    </div>
    <!-- 상태 표시줄 -->
    <div class="mt-8 mb-2 px-4 py-2 bg-white rounded-xl shadow text-center text-indigo-700 font-semibold">
      <span id="mainStatus">리마 실행: 0회 | 유튜브 업로드: 0회</span>
    </div>
    <!-- 로그/채팅 모달 -->
    <div id="modalBG" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-40 hidden">
      <div id="modal" class="bg-white rounded-2xl shadow-2xl p-6 w-[94vw] max-w-md relative animate-fadeIn">
        <button onclick="closeModal()" class="absolute top-3 right-4 text-2xl text-gray-400 hover:text-indigo-500">&times;</button>
        <div id="modalContent"></div>
      </div>
    </div>
  </div>
  <script>
    let rimaCount = 0, youtubeCount = 0;
    let logs = [];
    function updateStatus() {
      document.getElementById('mainStatus').innerText = `리마 실행: ${rimaCount}회 | 유튜브 업로드: ${youtubeCount}회`;
    }
    function runRima() {
      rimaCount++;
      logs.unshift(`[${new Date().toLocaleTimeString()}] 리마 생성/실행!`);
      updateStatus();
      alert('리마 1개 생성/실행! (실제 자동화는 서버에서 연동)');
    }
    function runYoutubeUpload() {
      youtubeCount++;
      logs.unshift(`[${new Date().toLocaleTimeString()}] 유튜브 업로드 실행!`);
      updateStatus();
      alert('유튜브 자동 업로드 실행! (PC에서 Python 서버와 연동)');
      // 실제 자동화: 서버 API 호출 또는 Python 실행 필요
      // 예: fetch('/api/youtube_upload', {method:"POST"})
    }
    function openLog() {
      document.getElementById('modalContent').innerHTML =
        `<h2 class="text-xl font-bold mb-2 text-indigo-700">📊 상황판/로그</h2>
        <ul class="list-disc ml-4 mb-2">${logs.map(l=>`<li class="text-gray-700 mb-1">${l}</li>`).join("")}</ul>`;
      document.getElementById('modalBG').classList.remove('hidden');
    }
    function openChat() {
      document.getElementById('modalContent').innerHTML =
        `<h2 class="text-xl font-bold mb-2 text-indigo-700">💬 GPT+리마+나 채팅</h2>
        <div class="mb-2 text-gray-700">여기에 3자 실시간 명령/대화 구현</div>
        <textarea class="w-full rounded p-2 border mb-2" placeholder="GPT+리마에게 명령 입력"></textarea>
        <button class="w-full py-2 bg-indigo-600 text-white font-semibold rounded-xl hover:bg-indigo-700">명령 전송</button>`;
      document.getElementById('modalBG').classList.remove('hidden');
    }
    function closeModal() { document.getElementById('modalBG').classList.add('hidden'); }
    updateStatus();
  </script>
</body>
</html>
