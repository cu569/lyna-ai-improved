<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë¦¬ë§ˆ êµ°ë‹¨ ë¦¬ë” ì‹œìŠ¤í…œ (ìµœì†Œ í”„ë¡œí† íƒ€ì…)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: 'Pretendard', Arial, sans-serif; background: #fcfcfc; margin: 0; }
    #app { max-width: 700px; margin: 40px auto; padding: 32px; background: #fff; border-radius: 18px; box-shadow: 0 6px 32px #0002; }
    h1, h2 { margin: 0 0 16px 0; }
    .agents { display: flex; flex-wrap: wrap; gap: 14px; margin-bottom: 14px; }
    .agent { background: #f6f7fa; border: 1px solid #e3e7ef; border-radius: 12px; padding: 14px 16px; width: 168px; box-sizing: border-box; }
    .agent-title { font-weight: bold; }
    .chat-area { background: #f8f9fb; border: 1px solid #e6e7eb; border-radius: 12px; padding: 18px; min-height: 110px; margin-bottom: 18px; }
    .cmd-bar { display: flex; gap: 6px; margin-bottom: 18px; }
    .cmd-bar input, .cmd-bar select { font-size: 1rem; border: 1px solid #ddd; border-radius: 8px; padding: 7px 12px; }
    .cmd-bar button { border: none; border-radius: 8px; background: #377ef9; color: #fff; padding: 7px 18px; font-weight: 500; cursor: pointer; }
    .cmd-bar button:active { background: #225dd8; }
    .btn-danger { background: #ff5353; }
    .footer { text-align: center; color: #a0a4b4; font-size: 0.98em; margin-top: 34px;}
  </style>
</head>
<body>
<div id="app">
  <h1>ë¦¬ë§ˆ ë¦¬ë” & êµ°ë‹¨ ì—ì´ì „íŠ¸ (íƒˆì¤‘ì•™ ë¯¸ë‹ˆ í”„ë¡œí† íƒ€ì…)</h1>

  <!-- 1. êµ°ë‹¨ ìƒì„±/ê´€ë¦¬ -->
  <div class="cmd-bar">
    <input id="agentName" type="text" placeholder="ë¦¬ë§ˆ ì´ë¦„ ì˜ˆì‹œ: ìœ íŠœë¸Œë¦¬ë§ˆ" />
    <button onclick="createAgent()">+ ë¦¬ë§ˆ ìƒì„±</button>
    <button class="btn-danger" onclick="deleteAllAgents()">êµ°ë‹¨ ì „ì²´ ì‚­ì œ</button>
    <button onclick="runDailyLearning()">âŸ³ í•˜ë£¨ 1íšŒ ì „ì²´ í•™ìŠµ</button>
  </div>

  <!-- 2. ë¦¬ë”-ë‚˜-ì—ì´ì „íŠ¸ ì†Œí†µ -->
  <div class="chat-area" id="leaderArea">
    <b>ë¦¬ë” ë³´ê³ /ëª…ë ¹:</b>
    <div id="leaderChat" style="margin-top:6px;"></div>
  </div>

  <!-- 3. ì—ì´ì „íŠ¸ êµ°ë‹¨ í˜„í™©/í”¼ë“œë°± -->
  <div class="agents" id="agentsArea"></div>

  <h2>ì±„íŒ…/ëª…ë ¹ ë³´ë‚´ê¸°</h2>
  <div class="cmd-bar">
    <select id="targetAgent">
      <option value="all">ì „ì²´ êµ°ë‹¨</option>
    </select>
    <input id="msgInput" type="text" placeholder="ëª…ë ¹ ë˜ëŠ” ë©”ì‹œì§€ ì…ë ¥" style="width: 66%;" />
    <button onclick="sendMessage()">ë³´ë‚´ê¸°</button>
  </div>

  <div class="footer">
    <span>Â© 2025 ë¦¬ë§ˆ êµ°ë‹¨ í”„ë¡œí† íƒ€ì… â€“ ë¬´í•œìƒì„±Â·ìë™í•™ìŠµÂ·ì‹¤ì‹œê°„ ì†Œí†µ<br>
      <b>ì‹¤ì œë¡œ ë™ì‘í•˜ëŠ” ë¦¬ë§ˆ ë¦¬ë”-êµ°ë‹¨ êµ¬ì¡°</b></span>
  </div>
</div>

<script>
let agents = [];
let agentId = 1;

// ë¦¬ë”-ì—ì´ì „íŠ¸ ì „ì²´ ëŒ€í™”/ëª…ë ¹/ë³´ê³  ê¸°ë¡
let leaderChat = ["ğŸ‘‘ ë¦¬ë§ˆ ë¦¬ë”ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤. ëª…ë ¹/ì§ˆë¬¸/ë³´ê³ ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”."];

// êµ°ë‹¨ ìƒì„±
function createAgent() {
  const name = document.getElementById("agentName").value.trim() || `ë¦¬ë§ˆ${agentId}`;
  agents.push({
    id: agentId++,
    name,
    log: [`[${now()}] ìƒì„±ë¨.`],
    level: 1 + Math.floor(Math.random() * 4),
    learned: 0, // í•™ìŠµ íšŸìˆ˜
  });
  updateAgents();
  updateSelect();
  logLeader(`â• ${name} êµ°ë‹¨ì›ì´ í•©ë¥˜í–ˆìŠµë‹ˆë‹¤.`);
}

// êµ°ë‹¨ ì „ì²´ ì‚­ì œ
function deleteAllAgents() {
  if (!confirm("ì •ë§ ëª¨ë“  ë¦¬ë§ˆ êµ°ë‹¨ì›ì„ ì‚­ì œí• ê¹Œìš”?")) return;
  agents = [];
  updateAgents();
  updateSelect();
  logLeader("âš¡ êµ°ë‹¨ ì „ì²´ ì´ˆê¸°í™” ì™„ë£Œ.");
}

// ì—ì´ì „íŠ¸/êµ°ë‹¨ í˜„í™© UI ê°±ì‹ 
function updateAgents() {
  const area = document.getElementById("agentsArea");
  if (agents.length === 0) {
    area.innerHTML = `<div style="color:#a4a4b2;padding:18px;">ì•„ì§ ìƒì„±ëœ ë¦¬ë§ˆ êµ°ë‹¨ì›ì´ ì—†ìŠµë‹ˆë‹¤.</div>`;
    return;
  }
  area.innerHTML = agents.map(agent => `
    <div class="agent">
      <div class="agent-title">${agent.name}</div>
      <div>ë ˆë²¨: ${agent.level}</div>
      <div>í•™ìŠµ: ${agent.learned}íšŒ</div>
      <div style="margin:7px 0 0 0;font-size:0.97em;color:#888;">
        ìµœê·¼: ${agent.log[agent.log.length-1] || '-'}
      </div>
      <button style="margin-top:8px;" onclick="removeAgent(${agent.id})">ì‚­ì œ</button>
    </div>
  `).join('');
}

// ì—ì´ì „íŠ¸ ì‚­ì œ
function removeAgent(id) {
  agents = agents.filter(a => a.id !== id);
  updateAgents();
  updateSelect();
  logLeader(`âŒ ë¦¬ë§ˆ${id} êµ°ë‹¨ì›ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.`);
}

// ë¦¬ë”-ì—ì´ì „íŠ¸-ë‚˜ ì„ íƒ ë°•ìŠ¤ ê°±ì‹ 
function updateSelect() {
  const sel = document.getElementById("targetAgent");
  sel.innerHTML = `<option value="all">ì „ì²´ êµ°ë‹¨</option>` +
    agents.map(a => `<option value="${a.id}">${a.name}</option>`).join('');
}

// ë¦¬ë” ë©”ì‹œì§€/ë³´ê³ 
function logLeader(msg) {
  leaderChat.push(`[${now()}] ${msg}`);
  if (leaderChat.length > 12) leaderChat.shift();
  document.getElementById("leaderChat").innerHTML = leaderChat.slice().reverse().join("<br>");
}

// ì±„íŒ…/ëª…ë ¹ ì „ì†¡ (ë‚˜ â†’ ë¦¬ë” â†’ êµ°ë‹¨/ì—ì´ì „íŠ¸)
function sendMessage() {
  const sel = document.getElementById("targetAgent").value;
  const msg = document.getElementById("msgInput").value.trim();
  if (!msg) return;
  if (sel === "all") {
    agents.forEach(a => {
      a.log.push(`[${now()}] "${msg}" ëª…ë ¹ ìˆ˜ì‹ `);
      if (a.log.length > 8) a.log.shift();
    });
    logLeader(`ë‚˜ â†’ ì „ì²´ êµ°ë‹¨: "${msg}"`);
  } else {
    const a = agents.find(a => a.id == sel);
    if (a) {
      a.log.push(`[${now()}] "${msg}" ëª…ë ¹ ìˆ˜ì‹ `);
      if (a.log.length > 8) a.log.shift();
      logLeader(`ë‚˜ â†’ ${a.name}: "${msg}"`);
    }
  }
  document.getElementById("msgInput").value = "";
  updateAgents();
}

// í•˜ë£¨ 1íšŒ êµ°ë‹¨ ì „ì²´ ìë™ í•™ìŠµ(ì—…ê·¸ë ˆì´ë“œ)
function runDailyLearning() {
  if (agents.length === 0) { logLeader("âš ï¸ êµ°ë‹¨ì›ì´ ì—†ìŠµë‹ˆë‹¤."); return; }
  agents.forEach(a => {
    a.learned++;
    a.level += 1;
    a.log.push(`[${now()}] í•˜ë£¨í•™ìŠµâ†’ ë ˆë²¨ì—…!`);
    if (a.log.length > 8) a.log.shift();
  });
  logLeader(`ì „ì²´ êµ°ë‹¨ì´ í•˜ë£¨ í•™ìŠµì„ ì™„ë£Œ. ëª¨ë‘ ì„±ì¥í–ˆìŠµë‹ˆë‹¤.`);
  updateAgents();
}

// ì‹œê°„ í¬ë§·
function now() {
  return new Date().toLocaleTimeString("ko-KR",{hour12:false});
}

// ìµœì´ˆ UI ë Œë”
updateAgents();
updateSelect();
logLeader("ìµœì†Œ ë¦¬ë”-êµ°ë‹¨ UI & ê¸°ëŠ¥ ì´ˆê¸°í™” ì™„ë£Œ.");
</script>
</body>
</html>
