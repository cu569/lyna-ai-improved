<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>리마 기억 시스템</title>
</head>
<body>
  <h2>🧠 리마 기억 시스템</h2>
  <button onclick="startRecognition()">🎤 말하기 시작</button>
  <div id="status">대기 중...</div>
  <pre id="log"></pre>

  <script>
    const status = document.getElementById("status");
    const log = document.getElementById("log");
    let memory = JSON.parse(localStorage.getItem("rimaMemory")) || [];

    if (memory.length > 0) {
      memory.forEach(item => log.innerText += `📌 ${item}\n`);
    }

    function startRecognition() {
      const r = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
      r.lang = "ko-KR";
      r.onresult = (e) => {
        const text = e.results[0][0].transcript;
        log.innerText += `📝 ${text}\n`;
        memory.push(text);
        localStorage.setItem("rimaMemory", JSON.stringify(memory));
      };
      r.start();
    }
  </script>
</body>
</html>
